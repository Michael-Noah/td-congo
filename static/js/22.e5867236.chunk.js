(this.webpackJsonptd_inventory=this.webpackJsonptd_inventory||[]).push([[22],{1083:function(e,t,n){"use strict";n.r(t);n(427);var a=n(429),r=(n(419),n(424)),o=n(125),l=n(128),s=n(127),i=n(126),c=n(0),u=n.n(c),m=n(432),f=n(413),g=n(74),d=n(49),E=n(61);function p(){var e=Object(g.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 30px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n\n  .isoWidgetLabel {\n    font-size: 21px;\n    color: ",";\n    font-weight: 400;\n    line-height: 1.2;\n    margin: 0 0 25px;\n  }\n\n  .isoReportsWidgetBar {\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 25px;\n\n    .isoSingleProgressBar {\n      margin-bottom: 10px;\n\n      &:last-child {\n        margin-bottom: 0;\n      }\n    }\n  }\n\n  .isoDescription {\n    font-size: 13px;\n    color: ",";\n    font-weight: 400;\n    line-height: 1.5;\n    margin: 0;\n  }\n"]);return p=function(){return e},e}var S=d.c.div(p(),Object(E.palette)("border",2),Object(E.palette)("text",0),Object(E.palette)("text",2)),h=function(e){var t=e.label,n=e.details,a=e.children;return u.a.createElement(S,{className:"isoReportsWidget",style:{marginBottom:"15px"}},u.a.createElement("h3",{className:"isoWidgetLabel"},t),u.a.createElement("div",{className:"isoReportsWidgetBar"},a),u.a.createElement("p",{className:"isoDescription"},n))},b=n(153);function x(){var e=Object(g.a)(["\n  align-content: ",";\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: row;\n  margin-top: ","px;\n  margin-right: ","px;\n  margin-bottom: ","px;\n  margin-left: ","px;\n  padding: ","px;\n  width: ","px;\n"]);return x=function(){return e},e}function v(){var e=Object(g.a)(["\n  width: 100%;\n  height: ",";\n  padding: ",";\n  background-color: #ffffff;\n  border: 1px solid ",";\n\n  canvas {\n    width: 100% !important;\n    height: 100% !important;\n  }\n"]);return v=function(){return e},e}function T(){var e=Object(g.a)(["\n  margin: 0 10px;\n  width: ","px;\n  margin-top: ","px;\n  margin-right: ","px;\n  margin-bottom: ","px;\n  margin-left: ","px;\n  padding: ",";\n  background-color: ","px;\n  @media only screen and (max-width: 767) {\n    margin-right: 0 !important;\n  }\n"]);return T=function(){return e},e}var y=d.c.div(T(),(function(e){return e.width}),(function(e){return e.gutterTop}),(function(e){return e.gutterRight}),(function(e){return e.gutterBottom}),(function(e){return e.gutterLeft}),(function(e){return e.padding}),(function(e){return e.bgColor})),C=(d.c.div(v(),(function(e){return e.height?"".concat(e.height,"px"):"100%"}),(function(e){return e.padding?e.padding:"30px"}),Object(E.palette)("border",2)),d.c.div(x(),(function(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"flex-start";return"start"===e?"flex-start":"end"===e?"flex-end":e}(e.align)}),(function(e){return e.gutterTop}),(function(e){return e.gutterRight}),(function(e){return e.gutterBottom}),(function(e){return e.gutterLeft}),(function(e){return e.padding}),(function(e){return e.width})),function(e){var t=e.children,n=Object(b.a)(e,["children"]);return u.a.createElement(y,Object.assign({className:"isoWidgetsWrapper"},n),t)}),O=n(1049),R=n(42),_=n(1),I=n(1025),N=n.n(I).a.create({baseURL:"https://pos-td-test.firebaseio.com/"}),w=n(17),G={GET_CATEGORIES:"categoryList",GET_CATEGORIES_SUCCESS:"GET_CATEGORIES_SUCCESS",GET_CATEGORIES_FAIL:"GET_CATEGORIES_FAIL",ADD_CATEGORIES:"ADD_CATEGORIES_TO_DB",DELETE_CATEGORIES:"DELETE_CATEGORIES_FROM_DB",UPDATE_CATEGORIES:"UPDATE_CATEGORIES_IN_DB",getCategories:function(e){return{type:G.GET_CATEGORIES,payload:e}},getCategoriesbySaga:function(e){return{type:G.GET_CATEGORIES_BY_SAGA,token:e}},getCategoriesSuccess:function(e,t){return{type:G.GET_CATEGORIES_SUCCESS,payload:e,data:t}},getCategoriesFail:function(e,t){return{type:G.GET_CATEGORIES_FAIL,payload:e,data:t}},addCategory:function(e,t){return{type:G.ADD_CATEGORIES,payload:e,id:t}},deleteCategory:function(e,t){return{type:G.DELETE_CATEGORIES,payload:e,id:t}},updateCategory:function(e,t){return{type:G.UPDATE_CATEGORIES,payload:t}}},A=G,D=n(68),j=n(67),L=n(4),U=n(69),k=n(100),M=n(403);function z(){var e=Object(g.a)(["\n  width: 100%;\n  display: flex;\n  align-items: stretch;\n  overflow: hidden;\n  ",";\n\n  .isoIconWrapper {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 80px;\n    flex-shrink: 0;\n    background-color: rgba(0, 0, 0, 0.1);\n\n    i {\n      font-size: 30px;\n    }\n  }\n\n  .isoContentWrapper {\n    width: 100%;\n    padding: 20px 15px 20px 20px;\n    display: flex;\n    flex-direction: column;\n\n    .isoStatNumber {\n      font-size: 20px;\n      font-weight: 500;\n      line-height: 1.1;\n      margin: 0 0 5px;\n    }\n\n    .isoLabel {\n      font-size: 16px;\n      font-weight: 400;\n      margin: 0;\n      line-height: 1.2;\n    }\n  }\n"]);return z=function(){return e},e}var B=d.c.div(z(),Object(M.a)("5px")),F=function(e){var t=e.fontColor,n=e.bgColor,a=e.width,r=e.icon,o=e.number,l=e.text,s={color:t},i={backgroundColor:n,width:a};return u.a.createElement(B,{className:"isoStickerWidget",style:i},u.a.createElement("div",{className:"isoIconWrapper"},r),u.a.createElement("div",{className:"isoContentWrapper"},u.a.createElement("h3",{className:"isoStatNumber",style:s},o),u.a.createElement("span",{className:"isoLabel",style:s},l)))},P=n(658),W=function(e){var t=e.number,n=e.text,a=e.IconLib,r=e.fontColor,o=e.color;return u.a.createElement(C,null,u.a.createElement(F,{number:t&&t,text:t?n:u.a.createElement(P.a,{class:"-",spaceSize:"small",size:"small"}),icon:a,fontColor:t?r:"#000",bgColor:t?o:"#d3d3d3"}))};function V(){var e=Object(g.a)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  padding: 30px;\n  background-color: #ffffff;\n  overflow: hidden;\n  border: 1px solid ",";\n\n  .isoSaleLabel {\n    font-size: 14px;\n    font-weight: 700;\n    line-height: 1.2;\n    text-transform: uppercase;\n    color: ",";\n    margin: 0 0 20px;\n  }\n\n  .isoSalePrice {\n    font-size: 28px;\n    font-weight: 300;\n    line-height: 1.2;\n    margin: 0 0 20px;\n  }\n\n  .isoSaleDetails {\n    font-size: 13px;\n    font-weight: 400;\n    line-height: 1.5;\n    color: ",";\n    margin: 0;\n  }\n"]);return V=function(){return e},e}var Y=d.c.div(V(),Object(E.palette)("border",2),Object(E.palette)("text",0),Object(E.palette)("text",2)),H=function(e){var t=e.fontColor,n=e.label,a=e.price,r=e.details,o={color:t};return u.a.createElement(Y,{className:"isoSaleWidget"},u.a.createElement("h3",{className:"isoSaleLabel"},n),u.a.createElement("span",{className:"isoSalePrice",style:o},a),u.a.createElement("p",{className:"isoSaleDetails"},r))},Q=function(e){var t=e.label,n=e.amount,a=e.details,r=e.fontColor,o=e.sign;return u.a.createElement(C,null,u.a.createElement(H,{label:t,price:null!==n?o+" "+n:u.a.createElement(P.a,{size:"small",spaceSize:"small",class:"-"}),details:a,fontColor:r}))},$={PageStyle:{display:"flex",flexFlow:"row wrap",alignItems:"flex-start",overflow:"hidden"}},J=function(e){Object(s.a)(n,e);var t=Object(i.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.token,n=e.dispatch;n((function(e){e(w.a.getTransactions()),k.c.ref("catOrders").on("value",(function(t){var n=Object.keys(t.val()).length;e(w.a.getItemsSuccess(n,w.a.GET_NUMBER_TRANSACTIONS))}))})),n((function(e){e(w.a.getNumProducts()),e(w.a.getNumServices()),k.c.ref("catStore/HeadQuarters/inventory/").on("value",(function(t){var n=0,a=0,r=t.val();Object.keys(t.val()).map((function(e){return"Services"!==e?n+=Object.keys(r[e]).length:a+=Object.keys(r[e]).length,null})),e(L.a.itemsSuccess(t.val(),L.a.GET_PRODUCTS)),e(w.a.getItemsSuccess(n,w.a.GET_NUMBER_PRODUCTS)),e(w.a.getItemsSuccess(a,w.a.GET_NUMBER_SERVICES))}),(function(e){console.log("error: ",e)}))})),n((function(e){e(w.a.getNumCustomers()),k.c.ref("customers/HeadQuarters").orderByChild("name").on("value",(function(t){var n=[];t.forEach((function(e){var t=e.val();t=Object(_.a)(Object(_.a)({},t),{},{name:t.name.toUpperCase()}),n.push(t)})),e(j.a.getCustomersSuccess(n,j.a.GET_CUSTOMERS)),e(w.a.getItemsSuccess(n.length,w.a.GET_NUMBER_CUSTOMERS))}),(function(t){e(w.a.getItemsFail(t))}))})),n((function(e){e(w.a.getNumVendors()),k.c.ref("vendors/HeadQuarters/").on("value",(function(t){e(D.a.getVendorsSuccess(t.val(),D.a.GET_VENDORS)),e(w.a.getItemsSuccess(Object.keys(t.val()).length,w.a.GET_NUMBER_VENDORS))}),(function(t){e(w.a.getItemsFail(t))}))})),n((function(e){e(w.a.getNumUsers()),k.c.ref("users").on("value",(function(t){e(w.a.getItemsSuccess(Object.keys(t.val()).length,w.a.GET_NUMBER_USERS))}),(function(t){e(w.a.getItemsFail(t))}))})),n((function(e){e(w.a.getNumLocations()),k.c.ref("locations").on("value",(function(t){e(U.a.getLocationsSuccess(t.val(),U.a.GET_LOCATIONS)),e(w.a.getItemsSuccess(Object.keys(t.val()).length,w.a.GET_NUMBER_LOCATIONS))}),(function(t){e(w.a.getItemsFail(t))}))})),n((function(e){e(w.a.getNumCategories()),k.c.ref("categories").on("value",(function(t){e(A.getCategoriesSuccess(t.val(),A.GET_CATEGORIES)),e(w.a.getItemsSuccess(Object.keys(t.val()).length,w.a.GET_NUMBER_CATEGORIES))}),(function(t){e(w.a.getItemsFail(t))}))})),n(function(e){return function(t,n){t(w.a.getNumRevenueYTD()),t(w.a.getNumRevenueMonth()),t(w.a.getNumRevenuePrevMonth()),t(w.a.getTransactionsByUser());var a=new Date,r=new Date(Date.UTC(a.getFullYear()-1,11,0)).getTime();N.get("catOrders.json?auth=".concat(e,'&orderBy="time"&startAt=').concat(r,"&endAt=").concat(a.getTime())).then((function(e){var r=0,o=0,l=0,s=0;Object.keys(e.data).map((function(t){var i=new Date(e.data[t].time);r+=parseFloat(e.data[t].bill.grandtotal),i.getMonth()===a.getMonth()&&(l+=parseFloat(e.data[t].bill.grandtotal)),i.getMonth()===a.getMonth()-1&&(o+=parseFloat(e.data[t].bill.grandtotal)),e.data[t].cashier===n().Auth.uid&&s++})),t(w.a.getItemsSuccess(r,w.a.GET_REVENUE_YTD)),t(w.a.getItemsSuccess(o,w.a.GET_REVENUE_PREV_MONTH)),t(w.a.getItemsSuccess(l,w.a.GET_REVENUE_MONTH)),t(w.a.getItemsSuccess(s,w.a.GET_TRANSACTIONS_USER))})).catch((function(e){t(w.a.getItemsFail(e))}))}}(t))}},{key:"render",value:function(){var e=Object.assign({},this.props);return u.a.createElement(u.a.Fragment,null,u.a.createElement(f.a,null,u.a.createElement("div",{style:$.PageStyle},u.a.createElement(h,{label:"T&D Group S.A.R.L"},u.a.createElement(a.a,{style:m.a.rowStyle,gutter:0,justify:"start"},u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numTransactions,text:"Total Transactions",IconLib:u.a.createElement(O.b,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numProducts,text:"Total Products",IconLib:u.a.createElement(O.a,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numServices,text:"Total Services",IconLib:u.a.createElement(O.e,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numCustomers,text:"Total Customers",IconLib:u.a.createElement(O.h,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numVendors,text:"Total Vendors",IconLib:u.a.createElement(O.f,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numUsers,text:"Total Users",IconLib:u.a.createElement(O.g,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numLocations,text:"Total Locations",IconLib:u.a.createElement(O.d,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(W,{number:e.numCategories,text:"Total Categories",IconLib:u.a.createElement(O.c,{style:{fontSize:"1.5rem"}}),fontColor:"#ffffff",color:"#7ED321"})))),u.a.createElement(a.a,{style:m.a.rowStyle,gutter:0,justify:"start"},u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(C,null,u.a.createElement(Q,{label:"Revenue this month",amount:e.numRevenueMonth,sign:"$",details:"This is a sample sales widget, aka 2020",fontColor:"#f0cf33"}))),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(C,null,u.a.createElement(Q,{label:"Revenue Last Month",amount:e.numRevenuePrevMonth,sign:"$",details:"This is a sample sales widget, aka 2020",fontColor:"#f0cf33"}))),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(C,null,u.a.createElement(Q,{label:"TOTAL REVENUE "+(new Date).getFullYear(),amount:e.numRevenueYTD,sign:"$",details:"This is a sample sales widget, aka 2020",fontColor:"#f0cf33"}))),u.a.createElement(r.a,{lg:6,md:12,sm:12,xs:24,style:m.a.colStyle},u.a.createElement(C,null,u.a.createElement(Q,{label:"USER TRANSACTIONS "+(new Date).getFullYear(),amount:e.numTransactionsUser,sign:"",details:"This is a sample sales widget, aka 2020",fontColor:"#f0cf33"})))))))}}]),n}(c.Component);t.default=Object(R.b)((function(e){var t=Object.assign({},e.Stats);return{token:e.Auth.idToken,numTransactions:t.numTransactions,numProducts:t.numProducts,numServices:t.numServices,numCustomers:t.numCustomers,numVendors:t.numVendors,numUsers:t.numUsers,numLocations:t.numLocations,numCategories:t.numCategories,numRevenueMonth:t.numRevenueMonth,numRevenuePrevMonth:t.numRevenuePrevMonth,numRevenueYTD:t.numRevenueYTD,numTransactionsUser:t.numTransactionsUser,error:t.error}}))(J)},413:function(e,t,n){"use strict";var a=n(0),r=n.n(a),o=n(74);function l(){var e=Object(o.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]);return l=function(){return e},e}var s=n(49).c.div(l());t.a=function(e){return r.a.createElement(s,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)}},432:function(e,t,n){"use strict";var a={rowStyle:{width:"100%",display:"flex",flexFlow:"row wrap"},colStyle:{marginBottom:"16px",paddingBottom:"5px"},gutter:16};t.a=a},658:function(e,t,n){"use strict";n(617);var a=n(638),r=(n(600),n(601)),o=n(0),l=n.n(o);n(706);t.a=function(e){return l.a.createElement("div",{className:e.class?e.class:"SpinnerDiv"},l.a.createElement(a.b,{size:e.SpaceSize?e.SpaceSize:"large"},l.a.createElement(r.a,{size:e.size?e.size:"large"})))}},706:function(e,t,n){}}]);
//# sourceMappingURL=22.e5867236.chunk.js.map