(this["webpackJsonp@iso/boilerplate"]=this["webpackJsonp@iso/boilerplate"]||[]).push([[23],{1088:function(e,t,a){"use strict";a.r(t);a(427);var n=a(429),r=(a(419),a(424)),o=(a(484),a(481)),i=(a(436),a(450)),c=(a(617),a(638)),l=(a(621),a(637)),s=(a(397),a(395)),u=a(3),m=a(1),d=a(125),p=a(128),f=a(127),h=a(126),g=a(0),b=a.n(g),v=a(413),y=a(432),x=a(715),C=a(42),E=a(498),w=a(483),O=(a(592),a(604)),j=(a(463),a(434)),N=a(804),S=a(805),k=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){return Object(d.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.confirm,o=e.submit,c=e.cancel,l=e.data;return console.log(l),b.a.createElement(b.a.Fragment,null,b.a.createElement(O.a,{title:"Add a Customer",visible:t,onOk:o,confirm:a,onCancel:c},b.a.createElement(n.a,{gutter:[16,16]},b.a.createElement(r.a,{className:"gutter-row",span:12},b.a.createElement(i.a,{onChange:this.props.changed,type:"text",name:"name",value:l.name,placeholder:"Enter Customer Name",prefix:b.a.createElement(N.a,{className:"site-form-item-icon"}),suffix:b.a.createElement(j.a,{title:"Extra information"},b.a.createElement(S.a,{style:{color:"rgba(0,0,0,.45)"}}))})),b.a.createElement(r.a,{className:"gutter-row",span:12},b.a.createElement(i.a,{onChange:this.props.changed,type:"text",name:"contact",value:l.name,placeholder:"Enter Customer Contact",prefix:b.a.createElement(N.a,{className:"site-form-item-icon"}),suffix:b.a.createElement(j.a,{title:"Extra information"},b.a.createElement(S.a,{style:{color:"rgba(0,0,0,.45)"}}))})))))}}]),a}(b.a.Component),T={PageStyle:{display:"flex",flexFlow:"row wrap",alignItems:"flex-start",overflow:"hidden"},tabsStyle:{height:"70vh",overflowY:"scroll",overflow:"auto"},outTableStyle:{overflowY:"scroll",overflow:"auto",height:"35vh"}},D=function(e){Object(f.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(d.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={searchQuery:"",filteredInfo:null,sortedInfo:null,addCustomerData:{name:"",contact:""},editCustomerData:{name:"",contact:""},addModal:!1,editModal:!1},e.toggleAddModal=function(){e.setState((function(e){return{addModal:!e.addModal}}))},e.submitCustomerData=function(){e.toggleAddModal()},e.handleTableChanges=function(t,a,n){e.setState({filteredInfo:a,sortedInfo:n})},e.addCustomerDataChanged=function(t){var a=t.target.name,n=t.target.value;e.setState((function(e){return{addCustomerData:Object(m.a)(Object(m.a)({},e.addCustomerData),{},Object(u.a)({},a,n))}}))},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;!this.props.customerList&&e(x.a())}},{key:"render",value:function(){var e=this,t=[{title:"NAME",dataIndex:"name",key:"name",width:"15%",ellipsis:!0,sorter:function(e,t){return e.name.localeCompare(t.name,{ignorePunctuation:!0,sensitivity:"base"})},defaultSortOrder:"ascend"},{title:"ATTACHMENT",dataIndex:"attachment",key:"attachment",ellipsis:!0,sorter:function(e,t){return e.attachment.localeCompare(t.attachment,{ignorePunctuation:!0,sensitivity:"base"})}},{title:"CONTACT",dataIndex:"contact",key:"contact",width:"12%",sorter:function(e,t){return e.contact.localeCompare(t.contact,{ignorePunctuation:!0,sensitivity:"base"})},render:function(e){return e||"NONE SET"}},{title:"ENTRY DATE",dataIndex:"date",key:"epoch",sorter:function(e,t){return e.epoch-t.epoch}},{title:"ACTION",dataIndex:"action",key:"action",width:"15%",render:function(e){return b.a.createElement(l.a,{title:"Confirm ".concat(e,"?"),onConfirm:function(){}},b.a.createElement(s.a,{type:"primary",danger:!0},e))}}],a=[];return this.props.customerList&&Object.keys(this.props.customerList).map((function(t){var n=e.props.customerList[t],r=[n.name.trim(),n.contact.trim()];return Object(E.a)(r,e.state.searchQuery)&&a.push({key:t,name:n.name.trim(),attachment:n.location,contact:n.contact,date:new Date(n.time).toLocaleString([],{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}),epoch:n.time,action:"Delete"}),null})),b.a.createElement(b.a.Fragment,null,b.a.createElement(k,{visible:this.state.addModal,data:this.state.addCustomerData,changed:this.addCustomerDataChanged,confirm:this.submitCustomerData,cancel:this.toggleAddModal}),b.a.createElement(v.a,{style:T.PageStyle},b.a.createElement(n.a,{style:y.a.rowStyle},b.a.createElement(r.a,{lg:24,style:y.a.colStyle},b.a.createElement(w.a,{title:"Customers"},b.a.createElement(c.b,{style:{marginBottom:16}},b.a.createElement(s.a,{onClick:this.toggleAddModal,className:"btn-success",block:!0,size:"large"},"ADD CUSTOMER")),b.a.createElement(i.a,{size:"large",type:"search",placeholder:"search",value:this.state.searchQuery,onChange:function(t){e.setState({searchQuery:t.target.value})}}),b.a.createElement(o.a,{loading:!this.props.customerList,size:"small",pagination:!0,dataSource:a,columns:t,onChange:this.handleTableChanges}))))))}}]),a}(g.Component);t.default=Object(C.b)((function(e){var t=Object.assign({},e.Customers);return{token:e.Auth.idToken,customerList:t.customerList}}))(D)},413:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(74);function i(){var e=Object(o.a)(["\n  padding: 40px 20px;\n  display: flex;\n  flex-flow: row wrap;\n  overflow: hidden;\n\n  @media only screen and (max-width: 767px) {\n    padding: 50px 20px;\n  }\n\n  @media (max-width: 580px) {\n    padding: 15px;\n  }\n"]);return i=function(){return e},e}var c=a(49).c.div(i());t.a=function(e){return r.a.createElement(c,Object.assign({className:null!=e.className?"".concat(e.className," isoLayoutContentWrapper"):"isoLayoutContentWrapper"},e),e.children)}},432:function(e,t,a){"use strict";var n={rowStyle:{width:"100%",display:"flex",flexFlow:"row wrap"},colStyle:{marginBottom:"16px",paddingBottom:"5px"},gutter:16};t.a=n},483:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(74),i=a(49),c=a(61);function l(){var e=Object(o.a)(["\n  font-size: 13px;\n  font-weight: 400;\n  color: ",";\n  line-height: 24px;\n"]);return l=function(){return e},e}function s(){var e=Object(o.a)(["\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n  margin: 0;\n  margin-bottom: 5px;\n"]);return s=function(){return e},e}var u=i.c.h3(s(),Object(c.palette)("text",0)),m=i.c.p(l(),Object(c.palette)("text",3)),d=function(e){return r.a.createElement("div",null,e.title?r.a.createElement(u,{className:"isoBoxTitle"}," ",e.title," "):"",e.subtitle?r.a.createElement(m,{className:"isoBoxSubTitle"}," ",e.subtitle," "):"")};function p(){var e=Object(o.a)(["\n  width: 100%;\n  height: 100%;\n  padding: 20px;\n  background-color: #ffffff;\n  border: 1px solid ",";\n  margin: 0 0 30px;\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n\n  @media only screen and (max-width: 767px) {\n    padding: 20px;\n    ",";\n  }\n\n  &.half {\n    width: calc(50% - 34px);\n    @media (max-width: 767px) {\n      width: 100%;\n    }\n  }\n"]);return p=function(){return e},e}var f=i.c.div(p(),Object(c.palette)("border",0),"");t.a=function(e){return r.a.createElement(f,{className:"".concat(e.className?e.className:""," isoBoxWrapper"),style:e.style},r.a.createElement(d,{title:e.title,subtitle:e.subtitle}),e.children)}},498:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var n=function(e,t){return e.some((function(e){return e.toLowerCase().includes(t.toLowerCase())}))}},715:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a(1),r=a(67),o=a(100),i=function(e){return function(e){e(r.a.getCustomers()),o.c.ref("customers/HeadQuarters/").orderByChild("name").on("value",(function(t){var a=[];t.forEach((function(e){var t=e.val();t=Object(n.a)(Object(n.a)({},t),{},{name:t.name.toUpperCase()}),a.push(t)})),e(r.a.getCustomersSuccess(a,r.a.GET_CUSTOMERS))}))}}}}]);
//# sourceMappingURL=23.112397f1.chunk.js.map